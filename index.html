<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="jquery.table.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"
	<style>
	</style>
	<title>jQuery.table test drive</title>
</head>
<body>
	<h3>jQuery.table test drive</h3>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script defer="defer" src="jquery.table.js"></script>
	<div class="container">
		<ol>
			<li>自动生成表格
				<table class="table table-1">
					<thead>
						<tr>
							<td data-property="@index" style="width: 1em;"></td>
							<td data-property="name" style="width: 15em;">名称</td>
							<td data-property="input" style="width: 8em;">日期</td>
							<td data-property="item" style="width: 15em;">货品</td>
							<td data-property="description">描述</td>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</li>
			<script defer="defer">
$(function () {
var data = [
{"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "2014年6月15日 下午5:00:39 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "马丁"}],"url": "https://www.neurun.com/doctors_office/input_task.html","description": "呵呵","input": {"date": {"date": 1402822911681}}},
{"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "2014年6月15日 下午5:00:39 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "马丁"}],"url": "https://www.neurun.com/doctors_office/input_task.html","description": "呵呵呵","input": {"date": {"date": 1402822911681}}},
{"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "2014年6月20日 下午8:00:39 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "马丁"}],"url": "https://www.neurun.com/doctors_office/input_task.html","description": "呵呵呵","input": {"date": {"date": 1402822911681}}},
{"_id": {"oid": "53a9999a4ca4582000000000"},"name": "2014年6月24日 下午11:30:12 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "外星人 4710 860"}],"url": "http://google.com","description": "呵呵","input": {"date": {"date": 1403623834514}}}
];
$(".table.table-1").table({
	source: data,
	custom: {
		input: $.table.date_n_ip,
		item: function(row) {
			var ul = $("<ul>");
			$(row.item).each(function() {
				ul.append($("<li>").text(this.name));
			});
			return ul;
		},
		description: function(row) { return $("<td>").html(row.description); }
	}
});
});
			</script>
			<li>表格排序
				<table class="table table-2">
					<thead>
						<tr>
							<td data-property="@index" style="width: 1em;"></td>
							<td data-property="name" style="width: 15em;">名称</td>
							<td data-property="input" style="width: 8em;">日期</td>
							<td data-property="item" style="width: 15em;">货品</td>
							<td data-property="description">描述</td>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</li>
			<script defer="defer">
$(function () {
var data = [
{"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "2014年6月15日 下午5:00:39 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "马丁"}],"url": "https://www.neurun.com/doctors_office/input_task.html","description": "呵呵","input": {"date": {"date": 1402822911681}}},
{"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "2014年6月15日 下午5:00:39 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "马丁"}],"url": "https://www.neurun.com/doctors_office/input_task.html","description": "呵呵呵","input": {"date": {"date": 1402822911681}}},
{"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "2014年6月20日 下午8:00:39 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "马丁"}],"url": "https://www.neurun.com/doctors_office/input_task.html","description": "呵呵呵","input": {"date": {"date": 1402822911681}}},
{"_id": {"oid": "53a9999a4ca4582000000000"},"name": "2014年6月24日 下午11:30:12 任务","item": [{"_id": {"oid": "536ed2ee0edab7c83b9e79ae"},"name": "外星人 4710 860"}],"url": "http://google.com","description": "呵呵","input": {"date": {"date": 1403623834514}}}
];
$(".table.table-2").table({
	source: data,
	sort: {
		name: true, input: "input.date.date"
	},
	custom: {
		input: $.table.date_n_ip,
		item: function(row) {
			var ul = $("<ul>");
			$(row.item).each(function() {
				ul.append($("<li>").text(this.name));
			});
			return ul;
		},
		description: function(row) { return $("<td>").html(row.description); }
	}
});
});
			</script>
			<li>部分载入
				<table class="table table-3">
					<thead>
						<tr>
							<td data-property="@index" style="width: 3em;"></td>
							<td data-property="name" style="width: 15em;">名称</td>
							<td data-property="input" style="width: 8em;">日期</td>
							<td data-property="description">描述</td>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</li>
			<script defer="defer">
$(function () {
var pos = 0, template = {"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "name ","description":"description ", "input": 0};
$(".table.table-3").table({
	source: function() {
		var results = { $skip: pos, $limit: 2, $count: 100 },
			array = results.$array = [];
		for (var i = 0, limit = results.$limit; i < limit; i++) {
			var r = $.extend({}, template);
			r.name += (i + pos);
			r.description += (i + pos);
			r.input += i % 6;
			array.push(r);
		}
		pos += results.$limit;
		return results;
	},
	sort: {
		name: true, input: true
	}
});
});
			</script>
			<li>部分载入（大数据量）
				<table class="table table-4">
					<thead>
						<tr>
							<td data-property="@index" style="width: 3em;"></td>
							<td data-property="name" style="width: 15em;">名称</td>
							<td data-property="input" style="width: 8em;">日期</td>
							<td data-property="description">描述</td>
						</tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</li>
			<script defer="defer">
$(function () {
var pos = 0, template = {"_id": {"oid": "539d60ff2b43b8770000004a"},"name": "name ","description":"description ", "input": 0};
$(".table.table-4").table({
	source: function() {
		var results = { $skip: pos, $limit: 100, $count: 1000 },
			array = results.$array = [];
		for (var i = 0, limit = results.$limit; i < limit; i++) {
			var r = $.extend({}, template);
			r.name += (i + pos);
			r.description += (i + pos);
			r.input += i % 6;
			array.push(r);
		}
		pos += results.$limit;
		return results;
	},
	sort: {
		name: true, input: true
	}
});
});
			</script>
		</ol>
	</div>
</body>
</html>
